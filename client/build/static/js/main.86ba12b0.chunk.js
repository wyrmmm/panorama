(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{53:function(t,e,n){t.exports=n(67)},67:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(28),i=n.n(c),o=n(1),u=n(6),l=n(9),s=n(15),d=n(3),O=n(70),b=n(24),p=n(37),f=(n(62),n(63),n(64),n(65),n(29)),g=n(68);function j(){var t=Object(l.a)(["\n            padding: 0 30px 30px 30px;\n            flex: 1;\n            overflow-y: auto;\n          "]);return j=function(){return t},t}function v(){var t=Object(l.a)(["\n          display: flex;\n          flex-direction: column;\n          height: 100%;\n        "]);return v=function(){return t},t}function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(n,!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function E(){var t=Object(l.a)(["\n  font-weight: 700;\n  font-size: 16px;\n  padding: 30px 30px 0 30px;\n"]);return E=function(){return t},t}function y(){var t=Object(l.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  border-radius: 3px 3px 0 0;\n  width: 100%;\n  height: 12px;\n  background: rgba(255, 255, 255, 0.75);\n"]);return y=function(){return t},t}function I(){var t=Object(l.a)(["\n  background-color: #273d56;\n  opacity: 0.75;\n  color: #fff;\n  position: fixed;\n  padding: 0;\n"]);return I=function(){return t},t}var w=Object(d.a)(I()),m=Object(d.a)(y()),T=Object(d.a)(E()),x=function(t){var e=t.title,n=t.children,a=Object(f.a)(t,["title","children"]),c=Object(r.useRef)(),i=function(t){var e=Object(r.useState)(!1),n=Object(u.a)(e,2)[1],a=function(){return n(!0)},c=function(){return n(!1)};return Object(r.useEffect)((function(){var e=t.current;return e.addEventListener("mouseenter",a),e.addEventListener("mouseleave",c),function(){e.removeEventListener("mouseenter",a),e.removeEventListener("mouseleave",c)}})),{cursor:"move"}}(c),o=function(t){var e=Object(r.useState)({top:0,left:0}),n=Object(u.a)(e,2),a=n[0],c=n[1],i=Object(r.useState)(),o=Object(u.a)(i,2),l=o[0],s=o[1],d=Object(r.useState)(),O=Object(u.a)(d,2),b=O[0],p=O[1],f=Object(r.useState)(),g=Object(u.a)(f,2),j=g[0],v=g[1],S=Object(r.useState)(!1),h=Object(u.a)(S,2),E=h[0],y=h[1],I=function(t){var e=t.target.getBoundingClientRect(),n=e.top,r=e.left;s({top:n,left:r}),y(!0),p({top:t.y,left:t.x})},w=function(t){E&&b&&v({top:t.y-b.top+l.top-a.top,left:t.x-b.left+l.left-a.left})},m=function(){y(!1)};return Object(r.useEffect)((function(){var e=t.current.getBoundingClientRect(),n=e.top,r=e.left;0===n&&0===r||c({top:n,left:r})}),[]),Object(r.useEffect)((function(){var e=t.current;return e.addEventListener("mousedown",I),function(){e.removeEventListener("mousedown",I)}})),Object(r.useEffect)((function(){return E&&(document.addEventListener("mousemove",w),document.addEventListener("mouseup",m)),function(){document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",m)}})),void 0===j?{}:{transform:"translate(".concat(j.left,"px, ").concat(j.top,"px)"),transition:"transform 0.05s cubic-bezier(0.2, 0, 0, 1)"}}(c);return Object(d.b)(g.a,Object.assign({css:w},a,{style:h({},o)}),Object(d.b)("div",{css:Object(d.a)(v())},Object(d.b)("div",null,Object(d.b)("span",{css:m,ref:c,style:h({},i),"data-testid":"mapcard-header"}),Object(d.b)("p",{css:T},e)),Object(d.b)("div",{css:Object(d.a)(j())},n)))},_=n(22),N=n.n(_),C=n(33),P=function(t){return{type:"FETCH_TRENDING_TWEETS_SUCCESS",payload:t,receivedAt:Date.now()}},D=n(69);function R(){var t=Object(l.a)(["\n            height: 100%;\n          "]);return R=function(){return t},t}function k(){var t=Object(l.a)(["\n  font-style: italic;\n  opacity: 0.7;\n"]);return k=function(){return t},t}function G(){var t=Object(l.a)(["\n  margin: 12px 0 24px 0;\n"]);return G=function(){return t},t}function F(){var t=Object(l.a)(["\n  top: 72px;\n  left: 24px;\n  width: 320px;\n  height: 500px;\n"]);return F=function(){return t},t}var L=Object(d.a)(F()),A=Object(d.a)(G()),H=Object(d.a)(k()),W=Object(s.b)((function(t){return{countries:t.countries,news:t.news}}))((function(t){var e=t.dispatch,n=t.countries,a=n.current,c=n.available,i=t.news;Object(r.useEffect)((function(){var t=c[a]["ISO-3166"];e(function(t){return function(){var e=Object(C.a)(N.a.mark((function e(n){var r,a,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"FETCH_NEWS_PENDING",pending:!0}),e.prev=1,e.next=4,fetch("http://localhost:3001/news/?country=".concat(t));case 4:return r=e.sent,e.next=7,r.json();case 7:a=e.sent,c=a.articles,n({type:"FETCH_NEWS_SUCCESS",pending:!1,payload:c,receivedAt:Date.now()}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),n({type:"FETCH_NEWS_ERROR",pending:!1,error:e.t0});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()}(t))}),[a]);var o=i.pending,l=i.error;return console.log(l),o?Object(d.b)(x,{css:L,title:"Trending Tweets"},Object(d.b)(D.a,{css:Object(d.a)(R())})):l?Object(d.b)(x,{css:L,title:"Trending Tweets"},"Unable to fetch data for this country."):Object(d.b)(x,{css:L,title:"Latest News"},0!==i.data.length&&i.data.map((function(t,e){var n=t.title.split(" - "),r=Object(u.a)(n,2),a=r[0],c=r[1];return Object(d.b)("div",{key:e,css:A},Object(d.b)("div",null,a),Object(d.b)("div",{css:H},c))})),0===i.data.length&&"There were no articles for this country.")}));function U(){var t=Object(l.a)(["\n            margin: 12px 0;\n          "]);return U=function(){return t},t}function z(){var t=Object(l.a)(["\n            height: 100%;\n          "]);return z=function(){return t},t}function B(){var t=Object(l.a)(["\n  top: 72px;\n  right: 24px;\n  width: 250px;\n  height: 300px;\n"]);return B=function(){return t},t}var J=Object(d.a)(B()),M=Object(s.b)((function(t){return{countries:t.countries,tweets:t.tweets}}))((function(t){var e=t.tweets,n=t.dispatch,a=t.countries,c=a.current,i=a.available;Object(r.useEffect)((function(){var t;n((t=i[c].id,function(){var e=Object(C.a)(N.a.mark((function e(n){var r,a,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"FETCH_TRENDING_TWEETS_PENDING"}),e.prev=1,e.next=4,fetch("http://localhost:3001/tweets/trends/".concat(t));case 4:return r=e.sent,e.next=7,r.json();case 7:a=e.sent,c=a[0].trends,n(P(c)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),n({type:"FETCH_TRENDING_TWEETS_ERROR",error:e.t0});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()))}),[c]);var o=e.pending,u=e.error;return o?Object(d.b)(x,{css:J,title:"Trending Tweets"},Object(d.b)(D.a,{css:Object(d.a)(z())})):u?Object(d.b)(x,{css:J,title:"Trending Tweets"},"Unable to fetch data for this country."):Object(d.b)(x,{css:J,title:"Trending Tweets"},e.data.map((function(t,e){return Object(d.b)("div",{key:e,css:Object(d.a)(U())},t.name)})))}));function Z(){var t=Object(l.a)(["\n              margin: 12px 0;\n            "]);return Z=function(){return t},t}function V(){var t=Object(l.a)(["\n            height: 100%;\n          "]);return V=function(){return t},t}function q(){var t=Object(l.a)(["\n  font-style: italic;\n  opacity: 0.7;\n"]);return q=function(){return t},t}function K(){var t=Object(l.a)(["\n  right: 24px;\n  bottom: 48px;\n  width: 250px;\n  height: 300px;\n"]);return K=function(){return t},t}var Q=Object(d.a)(K()),X=Object(d.a)(q()),$=Object(s.b)((function(t){return{countries:t.countries,googleTrends:t.googleTrends}}))((function(t){var e=t.googleTrends,n=t.dispatch,a=t.countries,c=a.current,i=a.available;Object(r.useEffect)((function(){var t=i[c]["ISO-3166"].toUpperCase();n(function(t){return function(){var e=Object(C.a)(N.a.mark((function e(n){var r,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"FETCH_GOOGLE_TRENDS_PENDING",pending:!0}),e.prev=1,e.next=4,fetch("http://localhost:3001/googletrends/?location=".concat(t));case 4:return r=e.sent,e.next=7,r.json();case 7:a=e.sent,n({type:"FETCH_GOOGLE_TRENDS_SUCCESS",pending:!1,payload:a,receivedAt:Date.now()}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n({type:"FETCH_GOOGLE_TRENDS_ERROR",pending:!1,error:e.t0});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()}(t))}),[c]);var o=e.pending,u=e.error;return o?Object(d.b)(x,{css:Q,title:"Trending Tweets"},Object(d.b)(D.a,{css:Object(d.a)(V())})):u?Object(d.b)(x,{css:Q,title:"Trending Tweets"},"Unable to fetch data for this country."):Object(d.b)(x,{css:Q,title:"Google Trends"},e.data.map((function(t,e){var n=t.title,r=t.count;return Object(d.b)("div",{key:e,css:Object(d.a)(Z())},Object(d.b)("div",null,n),Object(d.b)("div",{css:X},r))})))}));function Y(){var t=Object(l.a)(["\n              margin-left: 48px;\n              margin-right: 12px;\n            "]);return Y=function(){return t},t}function tt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function et(){var t=Object(l.a)(["\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n"]);return et=function(){return t},t}var nt=Object(d.a)(et()),rt=Object(s.b)((function(t){return{countries:t.countries}}))((function(t){var e=t.countries,n=e.current,a=e.available,c=t.dispatch,i=Object(r.useState)({latitude:a[n].lat,longitude:a[n].lng,zoom:5,bearing:0,pitch:0,transitionInterpolator:new p.a({speed:2}),transitionDuration:2e3}),l=Object(u.a)(i,2),s=l[0],f=l[1],g=Object(r.useState)(n),j=Object(u.a)(g,2),v=j[0],S=j[1];if(n!==v){S(n);var h=a[n].lat,E=a[n].lng;f(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tt(n,!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tt(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},s,{latitude:h,longitude:E}))}return Object(d.b)("div",{css:nt},Object(d.b)(O.a,{className:"bp3-dark"},Object(d.b)(O.a.Group,{align:b.a.LEFT},Object(d.b)(O.a.Heading,null,"Panorama"),Object(d.b)("span",{css:Object(d.a)(Y())},"Location"),Object(d.b)("div",{className:"bp3-select"},Object(d.b)("select",{defaultValue:n},Object.keys(a).map((function(t,e){return Object(d.b)("option",{key:e,onClick:function(){return c(function(t){return{type:"SET_LOCATION",payload:t}}(t))}},t)})))))),Object(d.b)(p.b,Object.assign({},s,{width:"100%",height:"100%",mapboxApiAccessToken:"pk.eyJ1Ijoid3lybSIsImEiOiJjazFwMG8yaW0wbjZmM3FwZnZqbHhhamI1In0.XANtBTtb9vF7VnIpG2kv3A",onViewportChange:function(t){f(t)}})),Object(d.b)(W,null),Object(d.b)(M,null),Object(d.b)($,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var at=n(20);function ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function it(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ct(n,!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ct(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ot={current:"Singapore",available:{Algeria:{id:1253079,"ISO-3166":"dz",lat:28,lng:3},Argentina:{id:332471,"ISO-3166":"ar",lat:-34,lng:-64},Australia:{id:1098081,"ISO-3166":"au",lat:-27,lng:133},Austria:{id:551801,"ISO-3166":"at",lat:47.33333333,lng:13.33333333},Bahrain:{id:23424753,"ISO-3166":"bh",lat:26,lng:50.55},Belarus:{id:824382,"ISO-3166":"by",lat:53,lng:28},Belgium:{id:23424757,"ISO-3166":"be",lat:50.83333333,lng:4},Brazil:{id:455819,"ISO-3166":"br",lat:-10,lng:-55},Canada:{id:2972,"ISO-3166":"ca",lat:60,lng:-95},Chile:{id:349859,"ISO-3166":"cl",lat:-30,lng:-71},Colombia:{id:368148,"ISO-3166":"co",lat:4,lng:-72},Denmark:{id:23424796,"ISO-3166":"dk",lat:56,lng:10},"Dominican Republic":{id:76456,"ISO-3166":"do",lat:19,lng:-70.66666666},Ecuador:{id:375732,"ISO-3166":"ec",lat:-2,lng:-77.5},Egypt:{id:1521643,"ISO-3166":"eg",lat:27,lng:30},France:{id:580778,"ISO-3166":"fr",lat:46,lng:2},Germany:{id:638242,"ISO-3166":"de",lat:51,lng:9},Ghana:{id:1326075,"ISO-3166":"gh",lat:8,lng:-2},Greece:{id:946738,"ISO-3166":"gr",lat:39,lng:22},Guatemala:{id:83123,"ISO-3166":"gt",lat:15.5,lng:-90.25},India:{id:2282863,"ISO-3166":"in",lat:20,lng:77},Indonesia:{id:1030077,"ISO-3166":"id",lat:-5,lng:120},Ireland:{id:560472,"ISO-3166":"ie",lat:53,lng:-8},Israel:{id:1967449,"ISO-3166":"il",lat:31.5,lng:34.75},Italy:{id:711080,"ISO-3166":"it",lat:42.83333333,lng:12.83333333},Japan:{id:1110809,"ISO-3166":"jp",lat:36,lng:138},Jordan:{id:1968902,"ISO-3166":"jo",lat:31,lng:36},Kenya:{id:1528335,"ISO-3166":"ke",lat:1,lng:38},Kuwait:{id:23424870,"ISO-3166":"kw",lat:29.5,lng:45.75},Latvia:{id:854823,"ISO-3166":"lv",lat:57,lng:25},Lebanon:{id:23424873,"ISO-3166":"lb",lat:33.83333333,lng:35.83333333},Malaysia:{id:1141268,"ISO-3166":"my",lat:2.5,lng:112.5},Mexico:{id:110978,"ISO-3166":"mx",lat:23,lng:-102},Netherlands:{id:726874,"ISO-3166":"nl",lat:52.5,lng:5.75},"New Zealand":{id:2348079,"ISO-3166":"nz",lat:-41,lng:174},Nigeria:{id:1387660,"ISO-3166":"ng",lat:10,lng:8},Norway:{id:857105,"ISO-3166":"no",lat:62,lng:10},Oman:{id:2268284,"ISO-3166":"om",lat:21,lng:57},Pakistan:{id:2211096,"ISO-3166":"pk",lat:30,lng:70},Panama:{id:23424924,"ISO-3166":"pa",lat:9,lng:-80},Peru:{id:418440,"ISO-3166":"pe",lat:-10,lng:-76},Philippines:{id:1167715,"ISO-3166":"ph",lat:13,lng:122},Poland:{id:493417,"ISO-3166":"pl",lat:52,lng:20},Portugal:{id:23424925,"ISO-3166":"pt",lat:39.5,lng:-8},"Puerto Rico":{id:23424935,"ISO-3166":"pr",lat:18.25,lng:-66.5},Qatar:{id:23424930,"ISO-3166":"qa",lat:25.5,lng:51.25},"Saudi Arabia":{id:1937801,"ISO-3166":"sa",lat:25,lng:45},Singapore:{id:1062617,"ISO-3166":"sg",lat:1.36666666,lng:103.8},"South Africa":{id:1580913,"ISO-3166":"za",lat:-29,lng:24},Spain:{id:753692,"ISO-3166":"es",lat:40,lng:-4},Sweden:{id:890869,"ISO-3166":"se",lat:62,lng:15},Switzerland:{id:782538,"ISO-3166":"ch",lat:47,lng:8},Thailand:{id:1225448,"ISO-3166":"th",lat:15,lng:100},Turkey:{id:2323778,"ISO-3166":"tr",lat:39,lng:35},Ukraine:{id:918981,"ISO-3166":"ua",lat:49,lng:32},"United Arab Emirates":{id:1940119,"ISO-3166":"ae",lat:24,lng:54}}},ut={pending:!1,data:[],error:null},lt={pending:!1,data:[],error:null},st={pending:!1,data:[],error:null},dt=Object(at.c)({countries:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_LOCATION":return Object.assign({},t,{current:e.payload});default:return t}},tweets:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCH_TRENDING_TWEETS_PENDING":return it({},t,{pending:!0});case"FETCH_TRENDING_TWEETS_SUCCESS":return it({},t,{pending:!1,data:e.payload,receivedAt:e.receivedAt});case"FETCH_TRENDING_TWEETS_ERROR":return it({},t,{pending:!1,error:e.error});default:return t}},news:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCH_NEWS_PENDING":return it({},t,{pending:!0});case"FETCH_NEWS_SUCCESS":return it({},t,{pending:!1,data:e.payload,receivedAt:e.receivedAt});case"FETCH_NEWS_ERROR":return it({},t,{pending:!1,error:e.error});default:return t}},googleTrends:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCH_GOOGLE_TRENDS_PENDING":return it({},t,{pending:!0,error:null});case"FETCH_GOOGLE_TRENDS_SUCCESS":return it({},t,{pending:!1,data:e.payload,receivedAt:e.receivedAt,error:null});case"FETCH_GOOGLE_TRENDS_ERROR":return it({},t,{pending:!1,error:e.error});default:return t}}}),Ot=n(44),bt=Object(at.d)(dt,Object(at.a)(Ot.a));i.a.render(a.a.createElement(s.a,{store:bt},a.a.createElement(rt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[53,1,2]]]);
//# sourceMappingURL=main.86ba12b0.chunk.js.map